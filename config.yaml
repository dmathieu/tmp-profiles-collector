receivers:
  profiling:
    SamplesPerSecond: 19

processors:
  resourcedetection:
    detectors: [ system ]
    system:
      hostname_sources: [ "os" ]
      resource_attributes:
        host.id:
          enabled: true
        host.name:
          enabled: true
        os.type:
          enabled: true

exporters:
  debug:
  otlp:
    endpoint: localhost:4317
    tls:
      insecure: true

service:
  pipelines:
    profiles:
      receivers: [ profiling ]
      processors: [ resourcedetection ]
      exporters: [ otlp ]
  telemetry:
    logs:
      level: debug
    metrics:
      readers:
        - pull:
            exporter:
              prometheus:
                host: '0.0.0.0'
                port: 8889
